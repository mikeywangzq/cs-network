#!/bin/bash

# ===================================================================
# build.sh - my_ping编译脚本
# ===================================================================

echo "============================================"
echo "开始编译 my_ping.cpp ..."
echo "============================================"

# 编译程序
g++ -Wall -Wextra -O2 -o my_ping my_ping.cpp

# 检查编译是否成功
if [ $? -eq 0 ]; then
    echo ""
    echo "============================================"
    echo "✓ 编译成功！"
    echo "============================================"
    echo ""
    echo "使用方法："
    echo "  sudo ./my_ping <主机名或IP>"
    echo ""
    echo "示例："
    echo "  sudo ./my_ping google.com"
    echo "  sudo ./my_ping 8.8.8.8"
    echo "  sudo ./my_ping baidu.com"
    echo ""
    echo "提示："
    echo "  - 必须使用 sudo 运行（需要root权限）"
    echo "  - 按 Ctrl+C 停止程序"
    echo "============================================"
else
    echo ""
    echo "============================================"
    echo "✗ 编译失败，请检查错误信息"
    echo "============================================"
    exit 1
fi
